@COM150
;スライム生成

PRINTL スライム生成
SAVESTR:0 = スライム生成
CALL TRAIN_MESSAGE_B

IF TEQUIP:スライム生成
	TEQUIP:スライム生成 = 0

	;スライム膣内進入
	TEQUIP:スライム膣内進入 = 0
	;スライム肛門進入
	TEQUIP:スライム肛門進入 = 0
	;スライム口辱
	TEQUIP:スライム口辱 = 0
	UP:3 -= 8000
ELSE
	TEQUIP:スライム生成 = 1

	LOSEBASE:体力 = 10
	LOSEBASE:気力 = 70

;ABL:Ｃ感覚をみる
IF ABL:Ｃ感覚 == 0
	SOURCE:0 = 20
	SOURCE:3 = 25
ELSEIF ABL:Ｃ感覚 == 1
	SOURCE:0 = 100
	SOURCE:3 = 50
ELSEIF ABL:Ｃ感覚 == 2
	SOURCE:0 = 500
	SOURCE:3 = 80
ELSEIF ABL:Ｃ感覚 == 3
	SOURCE:0 = 1200
	SOURCE:3 = 100
ELSEIF ABL:Ｃ感覚 == 4
	SOURCE:0 = 2000
	SOURCE:3 = 115
ELSE
	SOURCE:0 = 2800
	SOURCE:3 = 125
ENDIF

;ABL:Ｂ感覚をみる
IF ABL:Ｂ感覚 == 0
	SOURCE:17 = 15
	SOURCE:3 += 25
ELSEIF ABL:Ｂ感覚 == 1
	SOURCE:17 = 50
	SOURCE:3 += 50
ELSEIF ABL:Ｂ感覚 == 2
	SOURCE:17 = 300
	SOURCE:3 += 80
ELSEIF ABL:Ｂ感覚 == 3
	SOURCE:17 = 700
	SOURCE:3 += 100
ELSEIF ABL:Ｂ感覚 == 4
	SOURCE:17 = 1100
	SOURCE:3 += 115
ELSE
	SOURCE:17 = 1600
	SOURCE:3 += 125
ENDIF

	SOURCE:9 = 5000
	SOURCE:14 = 200
	
	;臆病
	SIF TALENT:臆病
		TIMES SOURCE:14 , 2.00
	;感情乏しい
	SIF TALENT:感情乏しい
		TIMES SOURCE:14 , 0.60
ENDIF
T = 0
RETURN 1


@EQUIP_COM150
;スライム調教中
PRINTL ＜スライム調教中＞

A = 100
;臆病
SIF TALENT:臆病
	TIMES A , 2.00

;感情乏しい
SIF TALENT:感情乏しい
	TIMES A , 0.60

;淫乱
SIF TALENT:淫乱
	TIMES A , 0.50

LOSEBASE:体力 += 20
LOSEBASE:気力 += 80

;ABL:Ｃ感覚をみる
IF ABL:Ｃ感覚 == 0
	SOURCE:0 += 20
	SOURCE:3 = 25
ELSEIF ABL:Ｃ感覚 == 1
	SOURCE:0 += 100
	SOURCE:3 += 50
ELSEIF ABL:Ｃ感覚 == 2
	SOURCE:0 += 500
	SOURCE:3 += 80
ELSEIF ABL:Ｃ感覚 == 3
	SOURCE:0 += 1200
	SOURCE:3 += 100
ELSEIF ABL:Ｃ感覚 == 4
	SOURCE:0 += 2000
	SOURCE:3 += 115
ELSE
	SOURCE:0 += 2800
	SOURCE:3 += 125
ENDIF

;ABL:Ｂ感覚をみる
IF ABL:Ｂ感覚 == 0
	SOURCE:17 += 15
	SOURCE:3 += 25
ELSEIF ABL:Ｂ感覚 == 1
	SOURCE:17 += 50
	SOURCE:3 += 50
ELSEIF ABL:Ｂ感覚 == 2
	SOURCE:17 += 300
	SOURCE:3 += 80
ELSEIF ABL:Ｂ感覚 == 3
	SOURCE:17 += 700
	SOURCE:3 += 100
ELSEIF ABL:Ｂ感覚 == 4
	SOURCE:17 += 1100
	SOURCE:3 += 115
ELSE
	SOURCE:17 += 1600
	SOURCE:3 += 125
ENDIF

UP:10 += A * 20
SOURCE:8 += A * 10
SOURCE:14 += A * 5

SOURCE:9 += 2000

TIMES SOURCE:13 , 1.80

;-------------------------------------------------
;射精チェック
;-------------------------------------------------
IF MAXBASE:PLAYER:異種射精ゲージ != 0

	B = 0
	;ABL:技巧をみる
	IF ABL:技巧 == 0
		B = 500
	ELSEIF ABL:技巧 == 1
		B = 600
	ELSEIF ABL:技巧 == 2
		B = 800
	ELSEIF ABL:技巧 == 3
		B = 1000
	ELSEIF ABL:技巧 == 4
		B = 1400
	ELSE
		B = 2000
	ENDIF

	;ABL:従順をみる
	IF ABL:信頼 == 0
		TIMES B , 0.80
	ELSEIF ABL:信頼 == 1
		TIMES B , 0.90
	ELSEIF ABL:信頼 == 2
		TIMES B , 1.00
	ELSEIF ABL:信頼 == 3
		TIMES B , 1.10
	ELSEIF ABL:信頼 == 4
		TIMES B , 1.20
	ELSE
		TIMES B , 1.30
	ENDIF

	;PALAM:欲情をみる
	IF PALAM:欲情 < PALAMLV:1
		TIMES B , 1.00
	ELSEIF PALAM:欲情 < PALAMLV:2
		TIMES B , 1.10
	ELSEIF PALAM:欲情 < PALAMLV:3
		TIMES B , 1.20
	ELSEIF PALAM:欲情 < PALAMLV:4
		TIMES B , 1.30
	ELSEIF PALAM:欲情 < PALAMLV:5
		TIMES B , 1.40
	ELSE
		TIMES B , 1.50
	ENDIF
	
	;スライム膣内進入
	SIF TEQUIP:スライム膣内進入
		TIMES B , 1.50
	;スライム肛門進入
	SIF TEQUIP:スライム肛門進入
		TIMES B , 1.50
	;スライム口辱
	SIF TEQUIP:スライム口辱
		TIMES B , 1.50

	BASE:PLAYER:異種射精ゲージ += B

	;スライムの快感が高いとキャラの快感のソースも増える
	SOURCE:0 = SOURCE:0 * (BASE:PLAYER:異種射精ゲージ + 20000) / 20000
	SOURCE:1 = SOURCE:1 * (BASE:PLAYER:異種射精ゲージ + 20000) / 20000
	SOURCE:2 = SOURCE:2 * (BASE:PLAYER:異種射精ゲージ + 20000) / 20000
	SOURCE:17 = SOURCE:17 * (BASE:PLAYER:異種射精ゲージ + 20000) / 20000

	S = BASE:PLAYER:異種射精ゲージ
	EJAC = MAXBASE:PLAYER:異種射精ゲージ

	IF  S > EJAC * 2
		E = 2
	ELSEIF S > EJAC
		E = 1
	ELSE
		E = 0
	ENDIF


	;強絶頂
	IF E == 2
		SIF TEQUIP:スライム膣内進入
			CFLAG:スライム抱卵判定用 += 3
		PRINTL スライム強絶頂

		BASE:PLAYER:異種射精ゲージ -= EJAC*2
		SIF BASE:PLAYER:異種射精ゲージ >= EJAC
			BASE:PLAYER:異種射精ゲージ = EJAC-1
		
		TIMES SOURCE:0 , 2.00
		TIMES SOURCE:1 , 2.00
		TIMES SOURCE:2 , 2.00
		TIMES SOURCE:17 , 2.00
	;通常の絶頂
	ELSEIF E == 1
		SIF TEQUIP:スライム膣内進入
			CFLAG:スライム抱卵判定用 += 1
		PRINTL スライム絶頂

		BASE:PLAYER:異種射精ゲージ -= EJAC
		SIF BASE:PLAYER:異種射精ゲージ >= EJAC
			BASE:PLAYER:異種射精ゲージ = EJAC-1
			
		TIMES SOURCE:0 , 1.50
		TIMES SOURCE:1 , 1.50
		TIMES SOURCE:2 , 1.50
		TIMES SOURCE:17 , 1.50
	ENDIF


ENDIF

RETURN 1


@COM153
;スライムオナニー
JUMP COM3
RETURN 1

@COM154
;スライム口辱
PRINTL スライム口辱
SAVESTR:0 = スライム口辱
CALL TRAIN_MESSAGE_B

LOSEBASE:体力 += 60
LOSEBASE:気力 += 80

;ファーストキス
IF CFLAG:ファーストキスの相手 == -1
	CFLAG:ファーストキスの相手 = 1
	SETCOLOR 0xDDBBCC
	PRINTFORML ファーストキス
	RESETCOLOR
	CSTR:ファーストキスの相手 = スライム
	TFLAG:ファーストキス口以外 = 1	
ENDIF

;ABL:奉仕精神をみる
IF ABL:奉仕精神 == 0
	SOURCE:4 += 200
	 A = 100
ELSEIF ABL:奉仕精神 == 1
	SOURCE:4 += 300
	A = 200
ELSEIF ABL:奉仕精神 == 2
	SOURCE:4 += 400
	A = 400
ELSEIF ABL:奉仕精神 == 3
	SOURCE:4 += 500
	A = 600
ELSEIF ABL:奉仕精神 == 4
	SOURCE:4 += 600
	A = 800
ELSE
	SOURCE:4 += 800
	A = 1100
ENDIF

;ABL:技巧をみる
IF ABL:技巧 == 0
	TIMES SOURCE:4 , 0.50
ELSEIF ABL:技巧 == 1
	TIMES SOURCE:4 , 0.80
ELSEIF ABL:技巧 == 2
	TIMES SOURCE:4 , 1.00
ELSEIF ABL:技巧 == 3
	TIMES SOURCE:4 , 1.20
ELSEIF ABL:技巧 == 4
	TIMES SOURCE:4 , 1.50
ELSE
	TIMES SOURCE:4 , 2.00
ENDIF

SOURCE:13 += A
SOURCE:16 += A

;触手の抜き挿し
IF TEQUIP:スライム口辱
	TEQUIP:スライム口辱 = 0
ELSE
	TEQUIP:スライム口辱 = 1
ENDIF
T = 0

EXP:フェラ経験 += 1
PRINTL フェラ経験＋１
RETURN 1


@EQUIP_COM154
;触手口辱中
PRINTL ＜スライム口辱中＞
IF TALENT:精愛味覚
	LOSEBASE:体力 += 30
	LOSEBASE:気力 += 45
ELSE
	LOSEBASE:体力 += 60
	LOSEBASE:気力 += 75
ENDIF

;ABL:奉仕精神をみる
IF ABL:奉仕精神 == 0
	SOURCE:4 += 200
	 A = 100
ELSEIF ABL:奉仕精神 == 1
	SOURCE:4 += 300
	A = 200
ELSEIF ABL:奉仕精神 == 2
	SOURCE:4 += 400
	A = 400
ELSEIF ABL:奉仕精神 == 3
	SOURCE:4 += 500
	A = 600
ELSEIF ABL:奉仕精神 == 4
	SOURCE:4 += 600
	A = 800
ELSE
	SOURCE:4 += 800
	A = 1100
ENDIF

;ABL:技巧をみる
IF ABL:技巧 == 0
	TIMES SOURCE:4 , 0.50
ELSEIF ABL:技巧 == 1
	TIMES SOURCE:4 , 0.80
ELSEIF ABL:技巧 == 2
	TIMES SOURCE:4 , 1.00
ELSEIF ABL:技巧 == 3
	TIMES SOURCE:4 , 1.20
ELSEIF ABL:技巧 == 4
	TIMES SOURCE:4 , 1.50
ELSE
	TIMES SOURCE:4 , 2.00
ENDIF

SOURCE:13 += A
SOURCE:16 += A

EXP:フェラ経験 += 1
PRINTL フェラ経験＋１
T += 1
RETURN 1

;
