;=================================================
; ミッションタイトル
;--------------------------------------------
; RESULTS = の後にミッションのタイトルを記述する
;=================================================
@MISSION_TITLE_17
RESULTS = お姫様は特訓中

;=================================================
; ミッション可視条件
;--------------------------------------------
; 特定のキャラクターの存在や、他のミッション結果などを、
; このミッションの表示条件に使用したい時に編集する
;=================================================
@MISSION_VISIBLE_17
; 不可視なら0、可視なら1を戻す
RETURN 1

;=================================================
; ミッション報酬
;--------------------------------------------
; ミッションの報酬を記述する
; P:1 報酬ポイント
; P:2 報酬貢献度
; P:3 失敗時の没収ポイント
; P:4 失敗時の没収貢献度
; P:5 延長期間
;=================================================
@MISSION_FEE_17
P:1 = 0
P:2 = 20
P:3 = P:1 * 2
P:4 = 0
P:5 = 0

;=================================================
; ミッション解説文
;--------------------------------------------
; ミッションの解説文を記述する
;=================================================
@MISSION_INFO_17
DRAWLINE
PRINTL 【クリスティナ・ロココ・ラーグラーデ】（Kurstina Rokoko Rangurade）
PRINTL
PRINTL 依頼人：クリスティナ・ロココ・ラーグラーデ
PRINTL 昔あなたが両親に連れられて行ったラーグラーデ王国という小国で仲良くなった少女で、
PRINTL 実はラーグラーデ王国のお姫様
PRINTL 今度ラーグラーデ王国で開催される魔法大会で優勝するために魔力を高める必要があり、
PRINTL 一族に伝わる性的な興奮を魔力に変換する魔術に手を出したのだが、性的な興奮を得る手
PRINTL 段がわからずあなたに相談に来たらしい……
PRINTL 困ったことにラーグラーデ王国が彼女の捜索を大規模で行っているため匿った場合彼女の
PRINTL 所在が知られるとただではすまないだろう
;でも行方不明になった人間の友人の家なんて真っ先に調べられるよな
PRINTL 
PRINTL そんな彼女に対するミッションの内容は……
PRINTL 『魔力500000以上・【崩壊】無し・風俗およびＡＶデビューの厳禁』
PRINTL で、期限は15週だ
PRINTL
PRINTL ※CAUTION!!※
PRINTL 　魔力は調教後快CVABの数値と絶頂回数に応じて上昇します。ただし指導が強制終了した
PRINTL 　場合は上昇しません
PRINTL 　また、魔力もしくは魅力が0になると彼女の精神は【崩壊】します
PRINTL
;ミッション終了後の処遇・国許に帰る
PRINTL なお、成功失敗に関わらず彼女は国許に帰ることになる。
;PRINTL なお、ミッション成功時は彼女はあなた（＝監督）に協力してくれるらしいが、失敗した
;PRINTL 場合は祖国にて厳罰に処されることになるらしい……
PRINTL
PRINTL 年齢：18歳　ミッション難易度：SS　報酬：実績「偉大なる処女厨」の使用権の復活
DRAWLINE

;=================================================
; ミッション達成条件詳細
;--------------------------------------------
; ミッションの解説文を記述する
; この関数は存在しなくても動作する
; ※達成条件確認の表示が行われなくなります
;=================================================
;@MISSION_COND_17
;DRAWLINE
;PRINTL ここに達成条件を記述します
;DRAWLINE

;=================================================
; ミッション受領時処理
;--------------------------------------------
; キャラクターの追加など、
; ミッションの受領時に行う処理を記述する
;=================================================
@MISSION_RECEIVE_17
CALL キャラ追加([[キャラ:クリスティナ・ラーグラーデ]])
MAXBASE:(GETCHARA([[キャラ:クリスティナ・ラーグラーデ]])):魔力 = 500000
BASE:(GETCHARA([[キャラ:クリスティナ・ラーグラーデ]])):魔力 = 300

;=================================================
; ミッション達成判定計算
;--------------------------------------------
; ミッションの成否判定を記述する
;=================================================
@MISSION_CALC_17
; 失敗なら0, 成功なら1, 大成功なら2をRETURNで戻す
LOCAL = GETCHARA([[キャラ:クリスティナ・ラーグラーデ]])
LOCAL:1 = 0

SIF BASE:LOCAL:魔力 >= 500000
	LOCAL:1++
SIF TALENT:LOCAL:崩壊 == 0
	LOCAL:1++
SIF TALENT:LOCAL:ＡＶ女優 == 0
	LOCAL:1++
SIF CFLAG:LOCAL:娼館デビュー == 0
	LOCAL:1++

IF LOCAL:1 >= 4
	RETURN 2
ENDIF
RETURN 0

;=================================================
; ミッション報告後処理
;--------------------------------------------
; 経験や素質の変化など、
; ミッション報告後に行う処理を記述する
;--------------------------------------------
; 引数
;  ARG 成否判定の結果(0:失敗, 1:成功, 2:大成功)
;=================================================
@MISSION_REPORT_17(ARG)
LOCAL = GETCHARA([[キャラ:クリスティナ・ラーグラーデ]])

IF ARG == 0
	SIF LOCAL != -1
		CALL キャラ削除, LOCAL
ELSE
	FLAG:処女厨ボーナス受け取り = 0
	SIF TALENT:LOCAL:妊娠
		CALL ADD_ELFALIA
	LOCAL = GETCHARA([[キャラ:クリスティナ・ラーグラーデ]])
	LOCAL:20 = GETCHARA([[キャラ:エルファリア・ラーグラーデ]])
	WAIT
	IF !実績達成:30 || (LOCAL != -1 && LOCAL:20 != -1 && (CFLAG:(LOCAL:10):妊娠精子キャラ番号 != 0 || !TALENT:LOCAL:永遠の愛))
		CALL キャラ削除, LOCAL
	ELSE
		TALENT:LOCAL:ミッション = 0
		FLAG:恋心子供 += 1
		TALENT:LOCAL:妊娠 = 0
		TALENT:LOCAL:性魔術 = 0
		TALENT:LOCAL:母性 = 1
		MAXBASE:LOCAL:体力 += 500
		EXP:LOCAL:Ｖ拡張経験 += 1
		EXP:LOCAL:出産経験 += 1
		C = LOCAL 
		CALL CLEAR_FLAG
		CALL REVERSE_B_SIZE
	ENDIF
	TARGET = GETCHARA([[キャラ:エルファリア・ラーグラーデ]])
ENDIF

;=================================================
; ミッション対象キャラクターNOの記述
;--------------------------------------------
; ミッション対象キャラクターのNOを戻す
; この関数は存在しなくても動作するが、
; 期日のあるミッションかつ関数が存在しないでは、
; 期日が取得できなくなる
;=================================================
@MISSION_CHARA_NO_17
; ミッション対象キャラクターのNOを戻す
RETURN [[キャラ:クリスティナ・ラーグラーデ]]


;=================================================
;エルファリア呼び出し
;=================================================
@ADD_ELFALIA

F = 0

LOCAL:10 = GETCHARA([[キャラ:クリスティナ・ラーグラーデ]])

IF LOCAL:10 != -1
	SIF CFLAG:(LOCAL:10):妊娠精子キャラ番号 >= 0
		F = CFLAG:(LOCAL:10):妊娠精子キャラ番号

	CALL キャラ追加([[キャラ:エルファリア・ラーグラーデ]])
	LOCAL:20 = GETCHARA([[キャラ:エルファリア・ラーグラーデ]])

		IF F == 0
			PRINTFORML %CALLNAME:(LOCAL:10)%の産んだあなたの娘？が父親のあなたに協力しにきてくれたようだ
			MAXBASE:(LOCAL:20):体力 += 200
			MAXBASE:(LOCAL:20):気力 += 100
			MAXBASE:(LOCAL:20):魅力値 += 20
			BASE:(LOCAL:20):体力 += 200
			BASE:(LOCAL:20):気力 += 100
			BASE:(LOCAL:20):魅力値 += 20
			TALENT:(LOCAL:20):外国人 = 0
			TALENT:(LOCAL:20):ハーフ = 1
			TALENT:(LOCAL:20):ファザコン = 1
			RELATION:(LOCAL:20):(NO:F) = 1000
			RELATION:F:(LOCAL:20) = 1000
;			CFLAG:F:親族判定1 = 1000 + 104
;			CFLAG:(LOCAL:20):親族判定4 = -1
		ELSEIF F >= 0
			PRINTFORML %CALLNAME:(LOCAL:10)%と%CALLNAME:(GETCHARA(F))%の娘？が恩返しとして母親の代わりにあなたに協力しにきてくれたようだ
			MAXBASE:(LOCAL:20):体力 += 100
			MAXBASE:(LOCAL:20):気力 += 200
			MAXBASE:(LOCAL:20):魅力値 += 10
			BASE:(LOCAL:20):体力 += 100
			BASE:(LOCAL:20):気力 += 200
			BASE:(LOCAL:20):魅力値 += 10
			IF TALENT:(GETCHARA(F)):408 == 0
				TALENT:(LOCAL:20):外国人 = 0
				TALENT:(LOCAL:20):ハーフ = 1
			ENDIF
			IF TALENT:(GETCHARA(F)):121 == 1
				TALENT:(LOCAL:20):ふたなり = 1
				TALENT:(LOCAL:20):童貞 = 1
				BASE:(LOCAL:20):ペニスサイズ = 13 + RAND:5
				CFLAG:(LOCAL:20):包皮状態 = 1 + RAND:3
			ENDIF
			RELATION:(LOCAL:20):(GETCHARA(F)) = 500
			RELATION:(GETCHARA(F)):(LOCAL:20) = 500
		ELSEIF CFLAG:(LOCAL:10):妊娠精子キャラ番号 == -1
			PRINTFORML %CALLNAME:(LOCAL:10)%の産んだ父親不明の娘？が恩返しとして母親の代わりにあなたに協力しにきてくれたようだ
			MAXBASE:(LOCAL:20):体力 += 100
			MAXBASE:(LOCAL:20):気力 += 100
			BASE:(LOCAL:20):体力 += 100
			BASE:(LOCAL:20):気力 += 100
		ELSEIF CFLAG:(LOCAL:10):妊娠精子キャラ番号 == -2
			PRINTFORML %CALLNAME:(LOCAL:10)%の産んだ犬の娘？が恩返しとして母親の代わりにあなたに協力しにきてくれたようだ
			MAXBASE:(LOCAL:20):体力 += 400
			TALENT:(LOCAL:20):外国人 = 0
			TALENT:(LOCAL:20):ハーフ = 1
			TALENT:(LOCAL:20):動物耳 = 1
		ELSEIF CFLAG:(LOCAL:10):妊娠精子キャラ番号 == -3
			PRINTFORML %CALLNAME:(LOCAL:10)%の産んだ触手の娘？が恩返しとして母親の代わりにあなたに協力しにきてくれたようだ
			MAXBASE:(LOCAL:20):体力 += 500
			MAXBASE:(LOCAL:20):気力 += 500
		ENDIF
ENDIF