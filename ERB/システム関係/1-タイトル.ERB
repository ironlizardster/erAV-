@SYSTEM_TITLE
#DIM DYNAMIC LMONTH
#DIM DYNAMIC LDAYS
#DIM DYNAMIC LCOUNT
#DIMS DYNAMIC HTML用, 3
#DIM DYNAMIC 誕生日人数
#DIMS DYNAMIC 誕生日名前, 固有キャラ最大ID
#DIM DYNAMIC HOGE, 3
#DIM CONST 最大文字数 = 34

;10秒(デフォルト)
IF ツールチップ表示時間
	TOOLTIP_SETDURATION ツールチップ表示時間
ELSE
	TOOLTIP_SETDURATION 10000
ENDIF

;ツールチップディレイ(デフォルトは無し)
SIF ツールチップディレイ
	TOOLTIP_SETDELAY ツールチップディレイ

CSVCOUNT = 0
FOR LCOUNT, 0, 固有キャラ最大ID
	IF EXISTCSV(LCOUNT)
		CSVCOUNT++
		固有キャラ名前リスト:LCOUNT '= CSVNAME(LCOUNT)
		IF (CSVCFLAG(LCOUNT, [[CFLAG:誕生月]])) == LMONTH && (CSVCFLAG(LCOUNT, [[CFLAG:誕生日]])) == LDAYS
			誕生日名前:誕生日人数 '= CSVNAME(LCOUNT)
			誕生日人数++
		ENDIF
	ENDIF
NEXT

ALIGNMENT LEFT

VARLINE = LINECOUNT
FLAG:難易度 = -1

DO
	LMONTH = TOINT(SUBSTRING(GETTIMES(), 5, 2))
	LDAYS = TOINT(SUBSTRING(GETTIMES(), 8, 2))
	誕生日人数 = 0
	DRAWLINE
	IF 誕生日人数
		FOR LCOUNT, 0, 誕生日人数
			STRLENS 誕生日名前:LCOUNT
			IF RESULT
				PRINTFORML 今日は%誕生日名前:LCOUNT%の誕生日です
			ENDIF
		NEXT
		PRINTL ハッピーバースデー！
		DRAWLINE
	ENDIF
	誕生日人数 = 0
	ALIGNMENT CENTER
	PRINTFORML %GAMEBASE_TITLE%
	PRINTFORML %GAMEBASE_YEAR%
	PRINTFORML %VERS_STRING()%
	PRINTFORML TOTAL CHARA {CSVCOUNT}

	WINDOW_TITLE = %GAMEBASE_TITLE% %VERS_STRING()%
	DRAWLINE
	CALL PRINT_BUTTON("[最初からはじめる]", 1, COMMAND_最初からはじめる, 最大文字数, 1)
	CALL PRINT_BUTTON("[ロードしてはじめる]", 1, COMMAND_ロードしてはじめる, 最大文字数, 1)
	CALL PRINT_BUTTON("[実績を確認する]", 1, COMMAND_実績を確認する, 最大文字数, 1)
	CALL PRINT_BUTTON("[女優名鑑]", 1, COMMAND_女優名鑑, 最大文字数, 1)

	CALL INPUTF, COMMAND_最初からはじめる, COMMAND_ロードしてはじめる, COMMAND_実績を確認する, COMMAND_女優名鑑

	SELECTCASE RESULT
		CASE COMMAND_最初からはじめる
			CALL RESET_DATA
			ADDCHARA 0
			BEGIN FIRST
		CASE COMMAND_ロードしてはじめる
			CALL RESET_DATA
			CALL USERLOAD
		CASE COMMAND_実績を確認する
			ALIGNMENT LEFT
			ADDCHARA 0
			CALL PRINT_ACHIEVEMENT
			DELCHARA 0
		CASE COMMAND_女優名鑑
			ADDCHARA 0
			ALIGNMENT LEFT
			CALL ACTRESS_LIST()
			DELCHARA 0
		CASEELSE
			CONTINUE
	ENDSELECT
LOOP 1
