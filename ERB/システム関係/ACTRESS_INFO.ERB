;===========================================================
;女優名鑑
;===========================================================
@ACTRESS_PROF

SIF !EXISTCSV(TEMP_CHARA_NO)
	RETURN

LOADGLOBAL

TEMP_STR '= GET_PROFILE_TEXT(TEMP_CHARA_NO)

IF STRLENS(TEMP_STR)
	CALL HTML_PRINT_PROFILE(TEMP_STR)
ELSE
	PRINTFORML おめーのしょうかいぶんねーです？
ENDIF

;一括化
PRINTFORML  これまでに契約した回数：{女優名鑑:TEMP_CHARA_NO}回

IF TEMP_CHARA_NO > 0
	TRYCCALLFORM ALBUM_VISIBLE_{TEMP_CHARA_NO}
	CATCH
		PRINTFORML おめーのあるばむねーです？
		WAIT
		RETURN
	ENDCATCH
	CALLFORM ALBUM_VISIBLE_{TEMP_CHARA_NO}
	IF RESULT == 1
		PRINTFORML 
		CALLFORM ALBUM_TITLE_{TEMP_CHARA_NO}
		PRINTFORML  アルバムＮＯ.{TEMP_CHARA_NO}：%RESULTS%
		PRINTFORML 
		PRINTFORML  アルバムを鑑賞しますか？
		$INPUT_LOOP
		PRINTL 
		PRINTL  [ 0] - はい
		PRINTL  [ 1] - いいえ
		DRAWLINE
		PRINTL  [999] - 戻る

		INPUT

		IF RESULT == 0
			CALLFORM ALBUM_SS_{TEMP_CHARA_NO}
			RETURN
		ELSEIF RESULT == 1
			RETURN
		ELSEIF RESULT == 999
			RETURN
		ELSE
			GOTO INPUT_LOOP
		ENDIF
	ENDIF
ELSE
WAIT
RETURN
ENDIF

@GET_PROFILE_TEXT(CHARA_NO)
#FUNCTIONS
#DIM CHARA_NO
#DIMS PROFILE_TEXT

IF CHARA_NO == [[キャラ:ヒトミちゃん]] && !ヒトミちゃんミッション
	PROFILE_TEXT '= CSVCSTR(CHARA_NO,[[CSTR:購入紹介テキスト]])
ELSEIF CHARA_NO == [[キャラ:本城愛衣子]] && 女優名鑑:[[キャラ:レイチェル・パラディスス]] < 1
	PROFILE_TEXT '= CSVCSTR(CHARA_NO,[[CSTR:購入紹介テキスト]])
ELSEIF CHARA_NO == [[キャラ:ニコル・パトリナターリ]] && 女優名鑑:[[キャラ:レイチェル・パラディスス]] < 1
	PROFILE_TEXT '= CSVCSTR(CHARA_NO,[[CSTR:購入紹介テキスト]])
ELSE
	PROFILE_TEXT '= CSVCSTR(CHARA_NO,[[CSTR:女優名鑑テキスト]])
ENDIF

RETURNF PROFILE_TEXT