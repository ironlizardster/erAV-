;=================================================
; (必須) タイトル定義
;--------------------------------------------
; 備考
;  この関数が存在するかどうかで
;  該当番号のアルバイトが存在するかどうかを判定します。
;=================================================
@ARBEIT_TITLE_1
RESULTS = 桐生組（桐生歌音の秘書）
RETURN 1

@ARBEIT_GET_TALENT_1
RESULTS = \@ TALENT:交渉上手 ? (すでに【交渉上手】持ちです) # \@

;=================================================
; (必須) 選択可能条件
;--------------------------------------------
; 引数
;  ARG キャラクターの登録番号
;--------------------------------------------
; 戻り値
;  0 = 選択不可, 1 = 選択可能
;--------------------------------------------
; 備考
;  アルバイトがリストで開示されるかどうかの条件です。
;  0を戻した場合は選択ができなくなります。
;  この関数の用途の想定はキャラクターのステータスや日時などによる限定です。
;=================================================
@ARBEIT_PERMISSION_1(ARG)
;さすがにうたおとねーさんにうたおとねーさんの秘書やらせるのは無理
SIF NO:ARG == [[キャラ:桐生歌音]]
	RETURN 0
RETURN GETCHARA([[キャラ:桐生歌音]]) > 0

;=================================================
; (必須) 実行処理
;--------------------------------------------
; 引数
;  ARG キャラクターの登録番号
;--------------------------------------------
; 備考
;  毎週判定される実行時の個別処理です。
;  各個好き勝手出来るようにしていますが、
;  地の文の表示、報酬の加算などもここで行うのを想定しています。
;  この関数でTCVAR:(EXPと同じ番号)に数値を代入しておくことで
;  該当番号の経験に数値分の増加処理(とメッセージの表示)が行われます。
;=================================================
@ARBEIT_EXEC_1(ARG)
LOCAL = RAND:3
SIF LOCAL == 0
	LOCAL = 1
SIF TALENT:ARG:優等生 == 1
	LOCAL *= 2
SIF TALENT:ARG:饒舌 == 1
	LOCAL *= 2
SIF NO:ARG == [[キャラ:宮間かなで]]
	LOCAL *= 2
EXP:ARG:歌音アルバイト += LOCAL
JUEL:ARG:習得 += 500 * LOCAL

PRINTFORML %NAME:ARG%は桐生歌音の秘書のアルバイトをしています……
IF LOCAL >= 2
	PRINTFORML どうやら一生懸命働く姿が評価されているようだ
ENDIF
IF EXP:ARG:歌音アルバイト >= 100 && TALENT:ARG:交渉上手 == 0
	TALENT:ARG:交渉上手 = 1
	PRINTFORML このアルバイトを続けたおかげで%CALLNAME:ARG%は【交渉上手】になったようだ
ENDIF
PRINTFORMW 習得の珠＋{500 * LOCAL}
RETURN 1

;=================================================
; (任意) アルバイト解説表示
;--------------------------------------------
; 備考
;  この関数にはアルバイトの解説を記述します。
;=================================================
@ARBEIT_INFO_1
PRINTFORMW ※このアルバイトは一定の経験を積むと【交渉上手】を取得できます
RETURN 1

;=================================================
; (任意) 雇用継続条件
;--------------------------------------------
; 引数
;  ARG キャラクターの登録番号
;--------------------------------------------
; 戻り値
;  0 = 可, 1 = 不可
;--------------------------------------------
; 備考
;  アルバイトの選択可能条件が不可になった時に、
;  この継続条件が定義され1を戻している場合、
;  メッセージと共に自動的に解雇されます。
;  特定の季節の間限定のものなどを想定しています。
;=================================================
;@ARBEIT_RENEW_1
;RETURN 1

;=================================================
; (任意) 雇用時個別処理
;--------------------------------------------
; 引数
;  ARG キャラクターの登録番号
;--------------------------------------------
; 備考
;  アルバイト番号の代入などの共通処理はシステムで自動的に行われますが、
;  この関数では雇用時に個別の処理を行うことができます。
;  TALENTの付加などを行うなどの処理を想定しています。
;=================================================
;@ARBEIT_SIGNUP_1(ARG)
;RETURN 1

;=================================================
; (任意) 欠勤時個別処理
;--------------------------------------------
; 引数
;  ARG キャラクターの登録番号
;--------------------------------------------
; 備考
;  この関数では欠勤となった時に個別の処理を行うことができます。
;=================================================
;@ARBEIT_ABSENCE_1(ARG)
;RETURN 1

;=================================================
; (任意) 解雇時個別処理
;--------------------------------------------
; 引数
;  ARG   キャラクターの登録番号
;  ARG:1 解雇されたかのフラグ(1 = true, 0 = false)
;--------------------------------------------
; 備考
;  アルバイト番号の代入などの共通処理はシステムで自動的に行われますが、
;  この関数では解雇時に個別の処理を行うことができます。
;  雇用時に追加されたTALENTの削除などを行うなどの処理を想定しています。
;  ARG:1は雇用が継続できなくなった時の解雇かどうかの判定で使用できます。
;  ARG:1が0の場合は(プレイヤーによる)自発的な退職、
;  1の時は(システム側から)解雇された場合となります。
;=================================================
;@ARBEIT_RESIGN_1(ARG, ARG:1)
;RETURN
