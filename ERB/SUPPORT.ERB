;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;変数入れ替えにおけるセーブデータ自動修正処理
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;=============================================================================
;修正処理本体
;=============================================================================
;--------------------------------------------------
;データのロード時における呼び出し
;--------------------------------------------------
@EVENTLOAD
#ONLY

TFLAG:0 = 0

;現行ver.以前のデータが読み込まれた場合は修正処理へ
SIF LASTLOAD_VERSION < GAMEBASE_VERSION
	CALL SAVE_SUPPORT_OLDVERSION

;--------------------------------------------------
;修正処理汎用部分
;--------------------------------------------------
@SAVE_SUPPORT_OLDVERSION

;erAV_oretoku V1 → erAV_oretoku V2のセーブ変換処理
SIF LASTLOAD_VERSION < 1
	CALL SAVE_SUPPORT_VERSION_1

IF TFLAG:0 == 1
	PRINTL セーブデータを現行バージョンのものに修正する作業を実行しました
	PRINTW SHOPメニューが表示されたらセーブしてください
	TFLAG:0 = 0
ENDIF

;=============================================================================
;各バージョンごとの修正処理
;=============================================================================
;--------------------------------------------------
;V0 → V1セーブ変換処理
;--------------------------------------------------
;処理内容：
@SAVE_SUPPORT_VERSION_1

TFLAG:0 = 1
